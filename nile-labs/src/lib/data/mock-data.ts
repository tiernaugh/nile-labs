import {
  type User,
  type Experiment,
  type ProgressUpdate,
  type ActivityEvent,
  ExperimentStatus,
  ExperimentCategory,
  ActivityEventType,
  type ExperimentCreatedEvent,
  type StatusChangedEvent,
  type ProgressAddedEvent,
  type ExperimentForkedEvent,
  type CollaboratorAddedEvent,
} from "../types";

// Mock users
export const mockUsers: User[] = [
  {
    id: "user-1",
    email: "tiernan@nile.com",
    name: "Tiernan",
    avatarUrl: undefined,
    createdAt: new Date("2024-01-01"),
  },
  {
    id: "user-2",
    email: "sarah@nile.com",
    name: "Sarah Chen",
    avatarUrl: undefined,
    createdAt: new Date("2024-01-01"),
  },
  {
    id: "user-3",
    email: "alex@nile.com",
    name: "Alex Kumar",
    avatarUrl: undefined,
    createdAt: new Date("2024-01-01"),
  },
  {
    id: "user-4",
    email: "emma@nile.com",
    name: "Emma Wilson",
    avatarUrl: undefined,
    createdAt: new Date("2024-01-01"),
  },
  {
    id: "user-5",
    email: "tom@nile.com",
    name: "Tom Mitchell",
    avatarUrl: undefined,
    createdAt: new Date("2024-01-01"),
  },
  {
    id: "user-6",
    email: "lloyd@nile.com",
    name: "Lloyd",
    avatarUrl: undefined,
    createdAt: new Date("2024-01-01"),
  },
];

// Helper to generate deterministic color from string
export function generateColorFromString(str: string): string {
  let hash = 0;
  for (let i = 0; i < str.length; i++) {
    hash = str.charCodeAt(i) + ((hash << 5) - hash);
  }
  const hue = hash % 360;
  return `hsl(${hue}, 70%, 60%)`;
}

// Helper to generate initials
export function getInitials(name: string): string {
  return name
    .split(" ")
    .map((n) => n[0])
    .join("")
    .toUpperCase()
    .slice(0, 2);
}

// Mock progress updates
const mockProgressUpdates: ProgressUpdate[] = [
  {
    id: "progress-1",
    experimentId: "exp-1",
    content: "Completed initial user research interviews with 5 participants",
    createdById: "user-2",
    createdBy: mockUsers[1],
    createdAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000),
  },
  {
    id: "progress-2",
    experimentId: "exp-1",
    content: "Synthesized findings into key themes and opportunities",
    createdById: "user-2",
    createdBy: mockUsers[1],
    createdAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000),
  },
  {
    id: "progress-3",
    experimentId: "exp-2",
    content: "Built initial prototype using Figma",
    createdById: "user-3",
    createdBy: mockUsers[2],
    createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000),
  },
  {
    id: "progress-4",
    experimentId: "exp-3",
    content: "Tested ChatGPT API for discussion guide generation",
    createdById: "user-4",
    createdBy: mockUsers[3],
    createdAt: new Date(Date.now() - 5 * 60 * 60 * 1000),
  },
  {
    id: "progress-5",
    experimentId: "exp-3",
    content: "Created template library with 10 discussion guide formats",
    createdById: "user-4",
    createdBy: mockUsers[3],
    createdAt: new Date(Date.now() - 2 * 60 * 60 * 1000),
  },
];

// Mock experiments
export const mockExperiments: Experiment[] = [
  {
    id: "exp-1",
    title: "AI Brief Generator",
    description: "Exploring how we can use LLMs to generate creative briefs from client conversations. Testing with GPT-4 and Claude to see which produces better strategic outputs.",
    status: ExperimentStatus.Active,
    category: ExperimentCategory.AIAutomation,
    coverImageUrl: undefined,
    ownerId: "user-2",
    owner: mockUsers[1],
    collaboratorIds: ["user-3", "user-4"],
    collaborators: [mockUsers[2], mockUsers[3]],
    forkedFromId: undefined,
    links: [
      { id: "link-1", title: "Miro Board", url: "https://miro.com/board/123" },
      { id: "link-2", title: "Test Results", url: "https://docs.google.com/123" },
    ],
    tags: ["AI", "automation", "briefs", "GPT-4"],
    progressUpdates: mockProgressUpdates.filter((p) => p.experimentId === "exp-1"),
    createdAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000),
  },
  {
    id: "exp-2",
    title: "Customer Journey Mapping Tool",
    description: "Building a digital tool to help clients map their customer journeys in real-time during workshops. Will integrate with our existing facilitation toolkit.",
    status: ExperimentStatus.Active,
    category: ExperimentCategory.ServiceDesign,
    coverImageUrl: undefined,
    ownerId: "user-3",
    owner: mockUsers[2],
    collaboratorIds: ["user-5"],
    collaborators: [mockUsers[4]],
    forkedFromId: undefined,
    tags: ["journey mapping", "workshops", "digital tools"],
    progressUpdates: mockProgressUpdates.filter((p) => p.experimentId === "exp-2"),
    createdAt: new Date(Date.now() - 14 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000),
  },
  {
    id: "exp-3",
    title: "Using ChatGPT for Interview Guides",
    description: "Creating a prompt library to help consultants quickly generate discussion guides for user interviews. Testing different prompt structures.",
    status: ExperimentStatus.Active,
    category: ExperimentCategory.ResearchInsights,
    coverImageUrl: undefined,
    ownerId: "user-4",
    owner: mockUsers[3],
    collaboratorIds: [],
    collaborators: [],
    forkedFromId: undefined,
    tags: ["ChatGPT", "research", "interviews", "prompts"],
    progressUpdates: mockProgressUpdates.filter((p) => p.experimentId === "exp-3"),
    createdAt: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 2 * 60 * 60 * 1000),
  },
  {
    id: "exp-4",
    title: "Design System 2.0",
    description: "Evolving our design system to be more flexible and component-based. Exploring token-based theming for client projects.",
    status: ExperimentStatus.InProduction,
    category: ExperimentCategory.InternalCapability,
    coverImageUrl: undefined,
    ownerId: "user-5",
    owner: mockUsers[4],
    collaboratorIds: ["user-2", "user-3"],
    collaborators: [mockUsers[1], mockUsers[2]],
    forkedFromId: undefined,
    tags: ["design system", "components", "tokens"],
    createdAt: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000),
  },
  {
    id: "exp-5",
    title: "Storyboard Generator with Gemini",
    description: "Using Google's Gemini to create storyboards from text descriptions. Could speed up our concept visualization process.",
    status: ExperimentStatus.Idea,
    category: ExperimentCategory.AIAutomation,
    coverImageUrl: undefined,
    ownerId: "user-1",
    owner: mockUsers[0],
    collaboratorIds: [],
    collaborators: [],
    forkedFromId: "exp-3",
    forkedFrom: undefined, // Will be resolved in getExperiment
    tags: ["Gemini", "AI", "storyboards", "visualization"],
    createdAt: new Date(Date.now() - 1 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 1 * 60 * 60 * 1000),
  },
  {
    id: "exp-6",
    title: "Workshop Energy Tracker",
    description: "Tried using sentiment analysis to track energy levels during virtual workshops. Interesting insights but privacy concerns made us park it.",
    status: ExperimentStatus.Findings,
    category: ExperimentCategory.ProcessMethods,
    coverImageUrl: undefined,
    ownerId: "user-6",
    owner: mockUsers[5],
    collaboratorIds: ["user-2"],
    collaborators: [mockUsers[1]],
    forkedFromId: undefined,
    tags: ["workshops", "sentiment", "virtual", "energy"],
    createdAt: new Date(Date.now() - 45 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 20 * 24 * 60 * 60 * 1000),
    deletedAt: undefined,
  },
  {
    id: "exp-7",
    title: "Conversational UI for Sales Training",
    description: "Building a chatbot to help new consultants practice sales conversations. Uses role-play scenarios based on real client interactions.",
    status: ExperimentStatus.Active,
    category: ExperimentCategory.InternalCapability,
    coverImageUrl: undefined,
    ownerId: "user-2",
    owner: mockUsers[1],
    collaboratorIds: ["user-6"],
    collaborators: [mockUsers[5]],
    forkedFromId: undefined,
    tags: ["training", "chatbot", "sales", "AI"],
    createdAt: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 4 * 60 * 60 * 1000),
  },
  {
    id: "exp-8",
    title: "Client Portal v2",
    description: "Reimagining how clients access project deliverables. Testing a new interface with better search and filtering.",
    status: ExperimentStatus.Active,
    category: ExperimentCategory.ClientExperience,
    coverImageUrl: undefined,
    ownerId: "user-3",
    owner: mockUsers[2],
    collaboratorIds: ["user-4", "user-5"],
    collaborators: [mockUsers[3], mockUsers[4]],
    forkedFromId: undefined,
    tags: ["portal", "client", "UX", "search"],
    createdAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 12 * 60 * 60 * 1000),
  },
  // Additional experiments for better testing
  {
    id: "exp-9",
    title: "Automated Insights Dashboard",
    description: "Building a dashboard that automatically surfaces key insights from research data using NLP.",
    status: ExperimentStatus.Active,
    category: ExperimentCategory.ResearchInsights,
    coverImageUrl: undefined,
    ownerId: "user-1",
    owner: mockUsers[0],
    collaboratorIds: ["user-2"],
    collaborators: [mockUsers[1]],
    forkedFromId: undefined,
    tags: ["nlp", "dashboard", "insights", "automation"],
    createdAt: new Date(Date.now() - 8 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 3 * 60 * 60 * 1000),
  },
  {
    id: "exp-10",
    title: "Voice-to-Insight Recorder",
    description: "Mobile app for capturing interview insights on the go using voice notes and AI transcription.",
    status: ExperimentStatus.Idea,
    category: ExperimentCategory.ResearchInsights,
    coverImageUrl: undefined,
    ownerId: "user-4",
    owner: mockUsers[3],
    collaboratorIds: [],
    collaborators: [],
    forkedFromId: "exp-9",
    forkedFrom: undefined,
    tags: ["voice", "mobile", "transcription", "interviews"],
    createdAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000),
  },
  {
    id: "exp-11",
    title: "Persona Generator",
    description: "Using GPT-4 to generate detailed personas from interview transcripts and survey data.",
    status: ExperimentStatus.Active,
    category: ExperimentCategory.AIAutomation,
    coverImageUrl: undefined,
    ownerId: "user-2",
    owner: mockUsers[1],
    collaboratorIds: ["user-3", "user-5"],
    collaborators: [mockUsers[2], mockUsers[4]],
    forkedFromId: undefined,
    tags: ["personas", "gpt-4", "automation", "research"],
    createdAt: new Date(Date.now() - 15 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 6 * 60 * 60 * 1000),
  },
  {
    id: "exp-12",
    title: "Virtual Whiteboard Integration",
    description: "Connecting Miro with our project management tools for seamless workshop documentation.",
    status: ExperimentStatus.InProduction,
    category: ExperimentCategory.ProcessMethods,
    coverImageUrl: undefined,
    ownerId: "user-5",
    owner: mockUsers[4],
    collaboratorIds: ["user-1"],
    collaborators: [mockUsers[0]],
    forkedFromId: undefined,
    tags: ["miro", "integration", "workshops", "documentation"],
    createdAt: new Date(Date.now() - 40 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000),
  },
  {
    id: "exp-13",
    title: "Empathy Map Templates",
    description: "Created reusable empathy map templates that auto-populate from research data.",
    status: ExperimentStatus.Findings,
    category: ExperimentCategory.ServiceDesign,
    coverImageUrl: undefined,
    ownerId: "user-3",
    owner: mockUsers[2],
    collaboratorIds: ["user-6"],
    collaborators: [mockUsers[5]],
    forkedFromId: undefined,
    tags: ["empathy", "templates", "service design", "automation"],
    createdAt: new Date(Date.now() - 25 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 18 * 24 * 60 * 60 * 1000),
  },
  {
    id: "exp-14",
    title: "Sprint Planning Bot",
    description: "Slack bot that helps teams plan design sprints based on project requirements.",
    status: ExperimentStatus.Active,
    category: ExperimentCategory.InternalCapability,
    coverImageUrl: undefined,
    ownerId: "user-6",
    owner: mockUsers[5],
    collaboratorIds: ["user-1", "user-4"],
    collaborators: [mockUsers[0], mockUsers[3]],
    forkedFromId: undefined,
    tags: ["slack", "bot", "sprints", "planning"],
    createdAt: new Date(Date.now() - 12 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 1 * 24 * 60 * 60 * 1000),
  },
  {
    id: "exp-15",
    title: "Client Feedback Loop",
    description: "Automated system for collecting and synthesizing client feedback throughout projects.",
    status: ExperimentStatus.Active,
    category: ExperimentCategory.ClientExperience,
    coverImageUrl: undefined,
    ownerId: "user-2",
    owner: mockUsers[1],
    collaboratorIds: ["user-5"],
    collaborators: [mockUsers[4]],
    forkedFromId: "exp-8",
    forkedFrom: undefined,
    tags: ["feedback", "automation", "client", "synthesis"],
    createdAt: new Date(Date.now() - 6 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 8 * 60 * 60 * 1000),
  },
  {
    id: "exp-16",
    title: "Knowledge Graph Explorer",
    description: "Visualizing connections between insights, projects, and clients using graph database.",
    status: ExperimentStatus.Idea,
    category: ExperimentCategory.ResearchInsights,
    coverImageUrl: undefined,
    ownerId: "user-3",
    owner: mockUsers[2],
    collaboratorIds: [],
    collaborators: [],
    forkedFromId: undefined,
    tags: ["graph", "visualization", "knowledge", "neo4j"],
    createdAt: new Date(Date.now() - 4 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 4 * 60 * 60 * 1000),
  },
  {
    id: "exp-17",
    title: "Workshop Facilitation AI",
    description: "AI assistant that helps facilitate workshops by suggesting activities and managing time.",
    status: ExperimentStatus.Active,
    category: ExperimentCategory.AIAutomation,
    coverImageUrl: undefined,
    ownerId: "user-4",
    owner: mockUsers[3],
    collaboratorIds: ["user-2", "user-6"],
    collaborators: [mockUsers[1], mockUsers[5]],
    forkedFromId: undefined,
    tags: ["ai", "facilitation", "workshops", "assistant"],
    createdAt: new Date(Date.now() - 9 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 14 * 60 * 60 * 1000),
  },
  {
    id: "exp-18",
    title: "Design Principles Generator",
    description: "Tool that generates design principles from project briefs and stakeholder interviews.",
    status: ExperimentStatus.Findings,
    category: ExperimentCategory.ServiceDesign,
    coverImageUrl: undefined,
    ownerId: "user-5",
    owner: mockUsers[4],
    collaboratorIds: ["user-3"],
    collaborators: [mockUsers[2]],
    forkedFromId: undefined,
    tags: ["principles", "generator", "design", "automation"],
    createdAt: new Date(Date.now() - 35 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 22 * 24 * 60 * 60 * 1000),
  },
  {
    id: "exp-19",
    title: "Rapid Prototyping Toolkit",
    description: "Collection of no-code tools and templates for quickly building interactive prototypes.",
    status: ExperimentStatus.InProduction,
    category: ExperimentCategory.InternalCapability,
    coverImageUrl: undefined,
    ownerId: "user-1",
    owner: mockUsers[0],
    collaboratorIds: ["user-2", "user-3", "user-4"],
    collaborators: [mockUsers[1], mockUsers[2], mockUsers[3]],
    forkedFromId: undefined,
    tags: ["prototyping", "no-code", "toolkit", "templates"],
    createdAt: new Date(Date.now() - 50 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000),
  },
  {
    id: "exp-20",
    title: "Stakeholder Mapping Tool",
    description: "Interactive tool for mapping and analyzing stakeholder relationships and influence.",
    status: ExperimentStatus.Active,
    category: ExperimentCategory.ProcessMethods,
    coverImageUrl: undefined,
    ownerId: "user-6",
    owner: mockUsers[5],
    collaboratorIds: ["user-1"],
    collaborators: [mockUsers[0]],
    forkedFromId: undefined,
    tags: ["stakeholders", "mapping", "analysis", "tool"],
    createdAt: new Date(Date.now() - 11 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 16 * 60 * 60 * 1000),
  },
  {
    id: "exp-21",
    title: "Innovation Metrics Dashboard",
    description: "Tracking the impact and ROI of our innovation experiments across projects.",
    status: ExperimentStatus.Active,
    category: ExperimentCategory.InternalCapability,
    coverImageUrl: undefined,
    ownerId: "user-2",
    owner: mockUsers[1],
    collaboratorIds: ["user-6"],
    collaborators: [mockUsers[5]],
    forkedFromId: undefined,
    tags: ["metrics", "dashboard", "roi", "tracking"],
    createdAt: new Date(Date.now() - 13 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000),
  },
  {
    id: "exp-22",
    title: "Scenario Planning Simulator",
    description: "Interactive tool for exploring future scenarios with clients during strategy sessions.",
    status: ExperimentStatus.Idea,
    category: ExperimentCategory.ClientExperience,
    coverImageUrl: undefined,
    ownerId: "user-3",
    owner: mockUsers[2],
    collaboratorIds: [],
    collaborators: [],
    forkedFromId: undefined,
    tags: ["scenarios", "simulation", "strategy", "interactive"],
    createdAt: new Date(Date.now() - 30 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 30 * 60 * 60 * 1000),
  },
  {
    id: "exp-23",
    title: "Cultural Probe Kit Digital",
    description: "Digital version of cultural probes for remote ethnographic research.",
    status: ExperimentStatus.Active,
    category: ExperimentCategory.ResearchInsights,
    coverImageUrl: undefined,
    ownerId: "user-4",
    owner: mockUsers[3],
    collaboratorIds: ["user-5"],
    collaborators: [mockUsers[4]],
    forkedFromId: undefined,
    tags: ["cultural probes", "ethnography", "remote", "digital"],
    createdAt: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 5 * 60 * 60 * 1000),
  },
  {
    id: "exp-24",
    title: "Co-creation Canvas",
    description: "Digital canvas for co-creation sessions with clients and end users.",
    status: ExperimentStatus.InProduction,
    category: ExperimentCategory.ServiceDesign,
    coverImageUrl: undefined,
    ownerId: "user-5",
    owner: mockUsers[4],
    collaboratorIds: ["user-2", "user-3"],
    collaborators: [mockUsers[1], mockUsers[2]],
    forkedFromId: "exp-12",
    forkedFrom: undefined,
    tags: ["co-creation", "canvas", "collaboration", "digital"],
    createdAt: new Date(Date.now() - 28 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000),
  },
  {
    id: "exp-25",
    title: "Bias Detection Tool",
    description: "AI tool that helps identify and mitigate bias in research analysis and synthesis.",
    status: ExperimentStatus.Active,
    category: ExperimentCategory.AIAutomation,
    coverImageUrl: undefined,
    ownerId: "user-1",
    owner: mockUsers[0],
    collaboratorIds: ["user-4", "user-6"],
    collaborators: [mockUsers[3], mockUsers[5]],
    forkedFromId: undefined,
    tags: ["bias", "ai", "research", "ethics"],
    createdAt: new Date(Date.now() - 10 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 20 * 60 * 60 * 1000),
  },
  {
    id: "exp-26",
    title: "Project Timeline Visualizer",
    description: "Beautiful timeline visualizations for presenting project roadmaps to clients.",
    status: ExperimentStatus.Findings,
    category: ExperimentCategory.ClientExperience,
    coverImageUrl: undefined,
    ownerId: "user-6",
    owner: mockUsers[5],
    collaboratorIds: ["user-2"],
    collaborators: [mockUsers[1]],
    forkedFromId: undefined,
    tags: ["timeline", "visualization", "roadmap", "presentation"],
    createdAt: new Date(Date.now() - 20 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 15 * 24 * 60 * 60 * 1000),
  },
  {
    id: "exp-27",
    title: "Systems Thinking Toolkit",
    description: "Tools and frameworks for applying systems thinking to complex design challenges.",
    status: ExperimentStatus.Active,
    category: ExperimentCategory.ProcessMethods,
    coverImageUrl: undefined,
    ownerId: "user-2",
    owner: mockUsers[1],
    collaboratorIds: ["user-3", "user-4"],
    collaborators: [mockUsers[2], mockUsers[3]],
    forkedFromId: undefined,
    tags: ["systems", "complexity", "frameworks", "thinking"],
    createdAt: new Date(Date.now() - 16 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 18 * 60 * 60 * 1000),
  },
  {
    id: "exp-28",
    title: "Impact Measurement Framework",
    description: "Framework for measuring the social and environmental impact of design decisions.",
    status: ExperimentStatus.Idea,
    category: ExperimentCategory.ServiceDesign,
    coverImageUrl: undefined,
    ownerId: "user-3",
    owner: mockUsers[2],
    collaboratorIds: [],
    collaborators: [],
    forkedFromId: undefined,
    tags: ["impact", "measurement", "sustainability", "framework"],
    createdAt: new Date(Date.now() - 45 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 45 * 60 * 60 * 1000),
  },
  {
    id: "exp-29",
    title: "Onboarding Experience Lab",
    description: "Experimenting with different onboarding approaches for new team members.",
    status: ExperimentStatus.Active,
    category: ExperimentCategory.InternalCapability,
    coverImageUrl: undefined,
    ownerId: "user-4",
    owner: mockUsers[3],
    collaboratorIds: ["user-1", "user-5"],
    collaborators: [mockUsers[0], mockUsers[4]],
    forkedFromId: undefined,
    tags: ["onboarding", "hr", "experience", "training"],
    createdAt: new Date(Date.now() - 14 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 11 * 60 * 60 * 1000),
  },
  {
    id: "exp-30",
    title: "Competitive Analysis Automation",
    description: "Automated system for tracking and analyzing competitor strategies and innovations.",
    status: ExperimentStatus.Active,
    category: ExperimentCategory.ResearchInsights,
    coverImageUrl: undefined,
    ownerId: "user-5",
    owner: mockUsers[4],
    collaboratorIds: ["user-6"],
    collaborators: [mockUsers[5]],
    forkedFromId: "exp-9",
    forkedFrom: undefined,
    tags: ["competitive", "analysis", "automation", "tracking"],
    createdAt: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000),
    updatedAt: new Date(Date.now() - 7 * 60 * 60 * 1000),
  },
];

// Generate activity events
export const mockActivityEvents: ActivityEvent[] = [
  // Recent experiment creation
  {
    id: "event-1",
    type: ActivityEventType.ExperimentCreated,
    userId: "user-1",
    user: mockUsers[0],
    experimentId: "exp-5",
    experiment: mockExperiments[4],
    createdAt: new Date(Date.now() - 1 * 60 * 60 * 1000),
  } as ExperimentCreatedEvent,
  
  // Progress update
  {
    id: "event-2",
    type: ActivityEventType.ProgressAdded,
    userId: "user-4",
    user: mockUsers[3],
    experimentId: "exp-3",
    experiment: mockExperiments[2],
    progressUpdate: mockProgressUpdates[4],
    createdAt: new Date(Date.now() - 2 * 60 * 60 * 1000),
  } as ProgressAddedEvent,
  
  // Fork event
  {
    id: "event-3",
    type: ActivityEventType.ExperimentForked,
    userId: "user-1",
    user: mockUsers[0],
    experimentId: "exp-3",
    experiment: mockExperiments[2],
    forkedExperimentId: "exp-5",
    forkedExperiment: mockExperiments[4],
    createdAt: new Date(Date.now() - 1 * 60 * 60 * 1000),
  } as ExperimentForkedEvent,
  
  // Status change
  {
    id: "event-4",
    type: ActivityEventType.StatusChanged,
    userId: "user-2",
    user: mockUsers[1],
    experimentId: "exp-7",
    experiment: mockExperiments[6],
    oldStatus: ExperimentStatus.Idea,
    newStatus: ExperimentStatus.Active,
    createdAt: new Date(Date.now() - 4 * 60 * 60 * 1000),
  } as StatusChangedEvent,
  
  // Collaborator added
  {
    id: "event-5",
    type: ActivityEventType.CollaboratorAdded,
    userId: "user-3",
    user: mockUsers[2],
    experimentId: "exp-8",
    experiment: mockExperiments[7],
    collaboratorId: "user-5",
    collaborator: mockUsers[4],
    createdAt: new Date(Date.now() - 6 * 60 * 60 * 1000),
  } as CollaboratorAddedEvent,
  
  // More progress updates
  {
    id: "event-6",
    type: ActivityEventType.ProgressAdded,
    userId: "user-4",
    user: mockUsers[3],
    experimentId: "exp-3",
    experiment: mockExperiments[2],
    progressUpdate: mockProgressUpdates[3],
    createdAt: new Date(Date.now() - 5 * 60 * 60 * 1000),
  } as ProgressAddedEvent,
  
  // Older events
  {
    id: "event-7",
    type: ActivityEventType.ExperimentCreated,
    userId: "user-3",
    user: mockUsers[2],
    experimentId: "exp-8",
    experiment: mockExperiments[7],
    createdAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000),
  } as ExperimentCreatedEvent,
  
  {
    id: "event-8",
    type: ActivityEventType.StatusChanged,
    userId: "user-5",
    user: mockUsers[4],
    experimentId: "exp-4",
    experiment: mockExperiments[3],
    oldStatus: ExperimentStatus.Active,
    newStatus: ExperimentStatus.InProduction,
    createdAt: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000),
  } as StatusChangedEvent,
];

// Helper to generate new IDs
let idCounter = 100;
export function generateId(prefix = "id"): string {
  return `${prefix}-${++idCounter}`;
}

// Helper to simulate network delay
export function delay(ms: number): Promise<void> {
  return new Promise((resolve) => setTimeout(resolve, ms));
}